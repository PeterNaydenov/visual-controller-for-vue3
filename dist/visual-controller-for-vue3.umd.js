!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("ask-for-promise"),require("vue")):"function"==typeof define&&define.amd?define(["ask-for-promise","vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).walk=t(e.askForPromise,e.vue)}(this,(function(e,t){"use strict";return class{constructor(e={}){const n={};return this.dependencies={...e,createApp:t.createApp,createSSRApp:t.createSSRApp},{publish:this.publish(this.dependencies,n),destroy:this.destroy(n),getApp:this.getApp(n),has:e=>!!n[e]}}publish(t,n){return function(r,o,s){const i=this.has(s),{createApp:p,createSSRApp:u}=t,{isCustomElement:d}=o,c=e();if(!r)return console.error("Error: Component is undefined"),c.done(!1),c.promise;i&&this.destroy(s);let f,a=document.getElementById(s);return a?(f=""===a.innerHTML.trim()?p(r,o):u(r,o),n[s]={},f.provide("dependencies",{...t,setupUpdates:e=>n[s]=e}),d&&(f.config.isCustomElement=d),f.mount(`#${s}`),c.done(n[s]),c.promise):(console.error(`Can't find node with id: "${s}"`),c.done(!1),c.promise)}}destroy(e){return function(t){if(e[t]){let n=document.getElementById(t);return(0,n.__vue_app__.unmount)(),n.removeAttribute("data-v-app"),delete e[t],!0}return!1}}getApp(e){return function(t){const n=e[t];return n||(console.error(`App with id: "${t}" was not found.`),!1)}}}}));
